---
title: htb labs
updated: 2023-10-09 17:35:21Z
created: 2023-08-25 18:08:03Z
---

# shocker
- ***toujours regarder les dossiers en profondeur : surtout cgi-bin*** 
- il faut remettre à jour la wordlist pour dirb c'est plus possible 
- ***il faut set up burp pour les web sockets aussi au cas ou***
- ***CGI-BIN contient plutôt des fichiers d'extension de scripting : peut-être .sh ou .pl ou autre on peut les ajouter avec (-x) par exemple -x pl,sh,py*** 
- Pour voir si CGI-BIN existe il faut aussi allouer les status codes non autorisés comme 403 avec l'option **(-s) de gobuster**
- Les scripts executables **sur CGI-BIN sont souvent vulnérables shellshock**
- Linpeas montre que perl peut être run sans passwd --> simple script en run sudo pour l'élévation de privilèges
- ***Scripts pour spawn de meilleurs shells***

---
# bashed 
- pour runner avec un autre user c'est plutôt : `sudo -u scriptmanager whoami`
- j'avais du coup bien trouvé la bonne réponse avec sudo -l qui nous donne le résultat suivante
```bash
listening on [any] 4444 ...
connect to [10.10.14.17] from (UNKNOWN) [10.10.10.68] 60744
www-data@bashed:/tmp$ sudo -l 
sudo -l 
Matching Defaults entries for www-data on bashed:
    env_reset, mail_badpass,
    secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin

User www-data may run the following commands on bashed:
    (scriptmanager : scriptmanager) NOPASSWD: ALL
www-data@bashed:/tmp$ 
``` 
ce qui veut dire : on peut tout run en sudo avec scriptmanager comme user 
upgrade d'un shell
https://zweilosec.github.io/posts/upgrade-linux-shell/
https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md#python

# Search (windows)
Active directory 
- Lorsque c'est une machine AD, et que l'on a un site vitrine, toujours penser à tester les usernames pour savoir s'ils sont dans l'AD
- regarder les images s'il n'y a pas des infos à soutirer, ou partout car tout est intéressant à prendre. 
- les paths /certenroll et /certsrv indiquent que le DC doit run le certification authority service ***(késako?)***
- seclists/web-content/ worldlists
- 